## item75 - 예외의 상세 메시지에 실패 관련 정보를 담으라

```
"예외의 toString 메서드에 실패 원인에 관한 정보를 
 가능한 많이 담아 반환하는 일은 아주 중요하다."
```

예외를 잡지 못해 프로그램이 실패했을 때, 출력되는 예외의 stack trace는 

예외 객체의 toString 메서드를 호출해 얻는 문자열이기 때문이다.

<br/>

즉, `IndexOutOfBoundsException`의 상세 메시지에는 범위의 최소값과 최댓값, 그리고 인덱스 값을 담아야 한다. 

인덱스가 잘못 됐을 수도 있고, 최소값이 최대값보다 클 수도 있기 때문이다.

<br/><br/>

## 실패 순간을 포착하면 발생한 예외와 관련된 모든 <br/>매개변수와 필드의 값을 실패 메시지에 담아야한다.

- 분석을 위해 실패 순간의 상황을 정확히 포착해 예외의 상세 메시지에 담아야 한다.

- 상세 메시지에 비밀번호나 암호 키 같은 정보까지 담아서는 안 된다.
- 문서와 소스코드에서 얻을 수 있는 정보는 길게 적어봤자 구구절절 될 뿐이다.
- 예외의 상세 메시지와 최종 사용자에게 보여줄 오류 메시지를 혼동해서는 안 된다.
    - 즉, 최종 사용자에게는 친절한 안내 메시지를 보여줘야 하는 반면, <br/>예외 메시지는 가독성보다는 담긴 내용이 훨씬 중요하다.

<br/><br/>

## 예외는 실패와 관련한 정보를 얻을 수 있는 접근자 메서드를 적절히 제공하는 것이 좋다.

- 포착한 실패 정보는 예외 상황을 복구하는데, 유용할 수 있으므로 <br/>접근자 메서드는 비검사 예외보다는 검사 예외에서 더 빛을 발한다고 한다.

- 'toString이 반환 값에 포함된 정보를 얻어올 수 있는 API를 제공하자'라는 일반 원칙을 따른다는 관점에서, <br/>비검사 예외도 상세 정보를 알려주는 접근자 메서들을 제공하라고 권하고 있다.